<!DOCTYPE HTML>
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (15) on Fri Jan 07 12:40:59 EST 2022 -->
<title>SourceClassResolver</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="dc.created" content="2022-01-07">
<meta name="description" content="declaration: package: polyglot.types, class: SourceClassResolver">
<meta name="generator" content="javadoc/ClassWriterImpl">
<link rel="stylesheet" type="text/css" href="../../stylesheet.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../script-dir/jquery-ui.min.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../jquery-ui.overrides.css" title="Style">
<script type="text/javascript" src="../../script.js"></script>
<script type="text/javascript" src="../../script-dir/jquery-3.5.1.min.js"></script>
<script type="text/javascript" src="../../script-dir/jquery-ui.min.js"></script>
</head>
<body class="class-declaration-page">
<script type="text/javascript">var data = {"i0":10,"i1":10,"i2":10};
var tabs = {65535:["t0","All Methods"],2:["t2","Instance Methods"],8:["t4","Concrete Methods"]};
var altColor = "alt-color";
var rowColor = "row-color";
var tableTab = "table-tab";
var activeTableTab = "active-table-tab";
var pathtoroot = "../../";
loadScripts(document, 'script');</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<div class="flex-box">
<header role="banner" class="flex-header">
<nav role="navigation">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="top-nav" id="navbar.top">
<div class="skip-nav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<ul id="navbar.top.firstrow" class="nav-list" title="Navigation">
<li><a href="../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="nav-bar-cell1-rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../index-all.html">Index</a></li>
<li><a href="../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="sub-nav">
<div>
<ul class="sub-nav-list">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="sub-nav-list">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<div class="nav-list-search"><label for="search">SEARCH:</label>
<input type="text" id="search" value="search" disabled="disabled">
<input type="reset" id="reset" value="reset" disabled="disabled">
</div>
</div>
<!-- ========= END OF TOP NAVBAR ========= -->
<span class="skip-nav" id="skip.navbar.top">
<!--   -->
</span></nav>
</header>
<div class="flex-content">
<main role="main">
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="sub-title"><span class="package-label-in-type">Package</span>&nbsp;<a href="package-summary.html">polyglot.types</a></div>
<h1 title="Class SourceClassResolver" class="title">Class SourceClassResolver</h1>
</div>
<div class="inheritance" title="Inheritance Tree">java.lang.Object
<div class="inheritance"><a href="LoadedClassResolver.html" title="class in polyglot.types">polyglot.types.LoadedClassResolver</a>
<div class="inheritance">polyglot.types.SourceClassResolver</div>
</div>
</div>
<section class="description">
<dl class="notes">
<dt>All Implemented Interfaces:</dt>
<dd><code><a href="Resolver.html" title="interface in polyglot.types">Resolver</a></code>, <code><a href="TopLevelResolver.html" title="interface in polyglot.types">TopLevelResolver</a></code></dd>
</dl>
<hr>
<pre>public class <span class="type-name-label">SourceClassResolver</span>
extends <a href="LoadedClassResolver.html" title="class in polyglot.types">LoadedClassResolver</a></pre>
<div class="block">Loads class information from source files, class files, or serialized class
 information from within class files. An outline of the steps is given below.

 <ol>
 <li>When the polyglot translator looks for a class by the name "foo.bar.Quux"
 it first searches for that class in any file given on the command line. If
 the class is found one of these files, then this definition is used and the
 remainder of the steps are skipped.

 <li>If none of these files contain the desired class, then the source path is
 searched next. For example, if the source extension is ".jl" and the source
 path is "mydir:." then the translator looks for files "mydir/foo/bar/Quux.jl"
 and "./foo/bar/Quux.jl".

 <li>Regardless of whether or not a source file is found, the translator
 searches the classpath (defined as normal through the environment and
 command-line options to the interpreter) for the desired class.

 <li>If no source file exists, and no class is found then an error is reported
 (skipping the rest of the steps below).

 <li>If a source file is found, but no class, then the source file is parsed.
 If it contains the desired class definition (which it should) then that
 definition is used and the remainder of the steps are skipped. (If it does
 not contain this definition, an error is reported and the remainder of the
 steps are skipped.

 <li>If a class is found but no source file, then the class is examined for
 jlc class type information. If the class contains no class type information
 (this is the case if the class file was compiled from raw Java source rather
 than jlc translated output) then this class is used as the desired class
 definition (skipping all steps below).

 <li>(class, but no still no source) If the class does contain jlc class type
 information, then the version number of translator used to translate the
 source which created the given class file is compared against the version of
 the current instantiation of the translator. If the versions are compatible,
 then the jlc class type information is used as the desired definition. If the
 versions are incompatible (see the documentation in Compiler.java) then an
 error is reported. In either case, all remaining steps are skipped.

 <li>If both a suitable source file and class are found then we have a choice.
 If the class definition does not contain jlc class type information then the
 source file is parsed as the definition found in this file is used as desired
 definition and we stop here. If the class does contain jlc class type
 information, then continue.

 <li>(source and class with jlc info) Next the last modification date of the
 source file is compared to the last modification date of the source file used
 to generate the class file. If the source file is more recent, the it is
 parsed as used as the desired definition and all remaining steps are skipped.

 <li>(source and class with jlc info) Next the jlc version of the class and of
 the current translator are compared (as in 7.). If the versions are
 incompatible, then we use the definition from the parsed source file. If the
 versions are compatible, then we use the definition given by the jlc class
 type information.
 </ol>
 Finally, if at any point an error occurs while reading jlc class type
 information (e.g. if this information exists but is corrupted), then an error
 is reported.</div>
</section>
<section class="summary">
<ul class="summary-list">
<!-- =========== FIELD SUMMARY =========== -->
<li>
<section class="field-summary" id="field.summary">
<h2>Field Summary</h2>
<div class="member-summary">
<table class="summary-table">
<caption><span>Fields</span></caption>
<thead>
<tr>
<th class="col-first" scope="col">Modifier and Type</th>
<th class="col-second" scope="col">Field</th>
<th class="col-last" scope="col">Description</th>
</tr>
</thead>
<tbody>
<tr class="alt-color">
<td class="col-first"><code>protected boolean</code></td>
<th class="col-second" scope="row"><code><span class="member-name-link"><a href="#compileCommandLineOnly">compileCommandLineOnly</a></span></code></th>
<td class="col-last">&nbsp;</td>
</tr>
<tr class="row-color">
<td class="col-first"><code>protected <a href="../frontend/Compiler.html" title="class in polyglot.frontend">Compiler</a></code></td>
<th class="col-second" scope="row"><code><span class="member-name-link"><a href="#compiler">compiler</a></span></code></th>
<td class="col-last">&nbsp;</td>
</tr>
<tr class="alt-color">
<td class="col-first"><code>protected <a href="../frontend/ExtensionInfo.html" title="interface in polyglot.frontend">ExtensionInfo</a></code></td>
<th class="col-second" scope="row"><code><span class="member-name-link"><a href="#ext">ext</a></span></code></th>
<td class="col-last">&nbsp;</td>
</tr>
<tr class="row-color">
<td class="col-first"><code>protected boolean</code></td>
<th class="col-second" scope="row"><code><span class="member-name-link"><a href="#ignoreModTimes">ignoreModTimes</a></span></code></th>
<td class="col-last">&nbsp;</td>
</tr>
</tbody>
</table>
</div>
<div class="inherited-list">
<h3 id="fields.inherited.from.class.polyglot.types.LoadedClassResolver">Fields inherited from class&nbsp;polyglot.types.<a href="LoadedClassResolver.html" title="class in polyglot.types">LoadedClassResolver</a></h3>
<code><a href="LoadedClassResolver.html#allowRawClasses">allowRawClasses</a>, <a href="LoadedClassResolver.html#COMPATIBLE">COMPATIBLE</a>, <a href="LoadedClassResolver.html#extInfo">extInfo</a>, <a href="LoadedClassResolver.html#loader">loader</a>, <a href="LoadedClassResolver.html#MINOR_NOT_COMPATIBLE">MINOR_NOT_COMPATIBLE</a>, <a href="LoadedClassResolver.html#nocache">nocache</a>, <a href="LoadedClassResolver.html#NOT_COMPATIBLE">NOT_COMPATIBLE</a>, <a href="LoadedClassResolver.html#recursive">recursive</a>, <a href="LoadedClassResolver.html#report_topics">report_topics</a>, <a href="LoadedClassResolver.html#te">te</a>, <a href="LoadedClassResolver.html#ts">ts</a>, <a href="LoadedClassResolver.html#version">version</a></code></div>
</section>
</li>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<li>
<section class="constructor-summary" id="constructor.summary">
<h2>Constructor Summary</h2>
<div class="member-summary">
<table class="summary-table">
<caption><span>Constructors</span></caption>
<thead>
<tr>
<th class="col-first" scope="col">Constructor</th>
<th class="col-last" scope="col">Description</th>
</tr>
</thead>
<tbody>
<tr class="alt-color">
<th class="col-constructor-name" scope="row"><code><span class="member-name-link"><a href="#%3Cinit%3E(polyglot.frontend.Compiler,polyglot.frontend.ExtensionInfo,boolean,boolean,boolean)">SourceClassResolver</a></span>&#8203;(<a href="../frontend/Compiler.html" title="class in polyglot.frontend">Compiler</a>&nbsp;compiler,
<a href="../frontend/ExtensionInfo.html" title="interface in polyglot.frontend">ExtensionInfo</a>&nbsp;ext,
boolean&nbsp;allowRawClasses,
boolean&nbsp;compileCommandLineOnly,
boolean&nbsp;ignoreModTimes)</code></th>
<td class="col-last">
<div class="block">Create a loaded class resolver.</div>
</td>
</tr>
</tbody>
</table>
</div>
</section>
</li>
<!-- ========== METHOD SUMMARY =========== -->
<li>
<section class="method-summary" id="method.summary">
<h2>Method Summary</h2>
<div class="member-summary" id="method-summary-table">
<div class="table-tabs" role="tablist" aria-orientation="horizontal"><button role="tab" aria-selected="true" aria-controls="method-summary-table.tabpanel" tabindex="0" onkeydown="switchTab(event)" id="t0" class="active-table-tab">All Methods</button><button role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" id="t2" class="table-tab" onclick="show(2);">Instance Methods</button><button role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" id="t4" class="table-tab" onclick="show(8);">Concrete Methods</button></div>
<div id="method-summary-table.tabpanel" role="tabpanel">
<table class="summary-table" aria-labelledby="t0">
<thead>
<tr>
<th class="col-first" scope="col">Modifier and Type</th>
<th class="col-second" scope="col">Method</th>
<th class="col-last" scope="col">Description</th>
</tr>
</thead>
<tbody>
<tr class="alt-color" id="i0">
<td class="col-first"><code><a href="Named.html" title="interface in polyglot.types">Named</a></code></td>
<th class="col-second" scope="row"><code><span class="member-name-link"><a href="#find(java.lang.String)">find</a></span>&#8203;(java.lang.String&nbsp;name)</code></th>
<td class="col-last">
<div class="block">Find a type by name.</div>
</td>
</tr>
<tr class="row-color" id="i1">
<td class="col-first"><code>protected <a href="Named.html" title="interface in polyglot.types">Named</a></code></td>
<th class="col-second" scope="row"><code><span class="member-name-link"><a href="#getTypeFromSource(polyglot.frontend.FileSource,java.lang.String)">getTypeFromSource</a></span>&#8203;(<a href="../frontend/FileSource.html" title="interface in polyglot.frontend">FileSource</a>&nbsp;source,
java.lang.String&nbsp;name)</code></th>
<td class="col-last">
<div class="block">Get a type from a source file.</div>
</td>
</tr>
<tr class="alt-color" id="i2">
<td class="col-first"><code>boolean</code></td>
<th class="col-second" scope="row"><code><span class="member-name-link"><a href="#packageExists(java.lang.String)">packageExists</a></span>&#8203;(java.lang.String&nbsp;name)</code></th>
<td class="col-last">
<div class="block">Check if a package exists.</div>
</td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="inherited-list">
<h3 id="methods.inherited.from.class.polyglot.types.LoadedClassResolver">Methods inherited from class&nbsp;polyglot.types.<a href="LoadedClassResolver.html" title="class in polyglot.types">LoadedClassResolver</a></h3>
<code><a href="LoadedClassResolver.html#allowRawClasses()">allowRawClasses</a>, <a href="LoadedClassResolver.html#checkCompilerVersion(java.lang.String)">checkCompilerVersion</a>, <a href="LoadedClassResolver.html#getEncodedType(polyglot.types.reflect.ClassFile,java.lang.String)">getEncodedType</a>, <a href="LoadedClassResolver.html#loadFile(java.lang.String)">loadFile</a></code></div>
<div class="inherited-list">
<h3 id="methods.inherited.from.class.java.lang.Object">Methods inherited from class&nbsp;java.lang.Object</h3>
<code>clone, equals, finalize, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</code></div>
</section>
</li>
</ul>
</section>
<section class="details">
<ul class="details-list">
<!-- ============ FIELD DETAIL =========== -->
<li>
<section class="field-details" id="field.detail">
<h2>Field Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="compiler">
<h3>compiler</h3>
<div class="member-signature"><span class="modifiers">protected</span>&nbsp;<span class="return-type"><a href="../frontend/Compiler.html" title="class in polyglot.frontend">Compiler</a></span>&nbsp;<span class="member-name">compiler</span></div>
</section>
</li>
<li>
<section class="detail" id="ext">
<h3>ext</h3>
<div class="member-signature"><span class="modifiers">protected</span>&nbsp;<span class="return-type"><a href="../frontend/ExtensionInfo.html" title="interface in polyglot.frontend">ExtensionInfo</a></span>&nbsp;<span class="member-name">ext</span></div>
</section>
</li>
<li>
<section class="detail" id="compileCommandLineOnly">
<h3>compileCommandLineOnly</h3>
<div class="member-signature"><span class="modifiers">protected</span>&nbsp;<span class="return-type">boolean</span>&nbsp;<span class="member-name">compileCommandLineOnly</span></div>
</section>
</li>
<li>
<section class="detail" id="ignoreModTimes">
<h3>ignoreModTimes</h3>
<div class="member-signature"><span class="modifiers">protected</span>&nbsp;<span class="return-type">boolean</span>&nbsp;<span class="member-name">ignoreModTimes</span></div>
</section>
</li>
</ul>
</section>
</li>
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<li>
<section class="constructor-details" id="constructor.detail">
<h2>Constructor Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="&lt;init&gt;(polyglot.frontend.Compiler,polyglot.frontend.ExtensionInfo,boolean,boolean,boolean)">
<h3>SourceClassResolver</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="member-name">SourceClassResolver</span>&#8203;(<span class="parameters"><a href="../frontend/Compiler.html" title="class in polyglot.frontend">Compiler</a>&nbsp;compiler,
<a href="../frontend/ExtensionInfo.html" title="interface in polyglot.frontend">ExtensionInfo</a>&nbsp;ext,
boolean&nbsp;allowRawClasses,
boolean&nbsp;compileCommandLineOnly,
boolean&nbsp;ignoreModTimes)</span></div>
<div class="block">Create a loaded class resolver.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>compiler</code> - The compiler.</dd>
<dd><code>ext</code> - The extension to load sources for.</dd>
<dd><code>allowRawClasses</code> - True if vanilla Java class files without Polyglot-embedded
            type information should be allowed.</dd>
<dd><code>compileCommandLineOnly</code> - TODO</dd>
<dd><code>ignoreModTimes</code> - TODO</dd>
</dl>
</section>
</li>
</ul>
</section>
</li>
<!-- ============ METHOD DETAIL ========== -->
<li>
<section class="method-details" id="method.detail">
<h2>Method Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="packageExists(java.lang.String)">
<h3>packageExists</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">boolean</span>&nbsp;<span class="member-name">packageExists</span>&#8203;(<span class="parameters">java.lang.String&nbsp;name)</span></div>
<div class="block"><span class="descfrm-type-label">Description copied from interface:&nbsp;<code><a href="TopLevelResolver.html#packageExists(java.lang.String)">TopLevelResolver</a></code></span></div>
<div class="block">Check if a package exists.</div>
<dl class="notes">
<dt>Specified by:</dt>
<dd><code><a href="TopLevelResolver.html#packageExists(java.lang.String)">packageExists</a></code>&nbsp;in interface&nbsp;<code><a href="TopLevelResolver.html" title="interface in polyglot.types">TopLevelResolver</a></code></dd>
<dt>Overrides:</dt>
<dd><code><a href="LoadedClassResolver.html#packageExists(java.lang.String)">packageExists</a></code>&nbsp;in class&nbsp;<code><a href="LoadedClassResolver.html" title="class in polyglot.types">LoadedClassResolver</a></code></dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="find(java.lang.String)">
<h3>find</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="Named.html" title="interface in polyglot.types">Named</a></span>&nbsp;<span class="member-name">find</span>&#8203;(<span class="parameters">java.lang.String&nbsp;name)</span>
           throws <span class="exceptions"><a href="SemanticException.html" title="class in polyglot.types">SemanticException</a></span></div>
<div class="block">Find a type by name.</div>
<dl class="notes">
<dt>Specified by:</dt>
<dd><code><a href="Resolver.html#find(java.lang.String)">find</a></code>&nbsp;in interface&nbsp;<code><a href="Resolver.html" title="interface in polyglot.types">Resolver</a></code></dd>
<dt>Overrides:</dt>
<dd><code><a href="LoadedClassResolver.html#find(java.lang.String)">find</a></code>&nbsp;in class&nbsp;<code><a href="LoadedClassResolver.html" title="class in polyglot.types">LoadedClassResolver</a></code></dd>
<dt>Throws:</dt>
<dd><code><a href="SemanticException.html" title="class in polyglot.types">SemanticException</a></code></dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="getTypeFromSource(polyglot.frontend.FileSource,java.lang.String)">
<h3>getTypeFromSource</h3>
<div class="member-signature"><span class="modifiers">protected</span>&nbsp;<span class="return-type"><a href="Named.html" title="interface in polyglot.types">Named</a></span>&nbsp;<span class="member-name">getTypeFromSource</span>&#8203;(<span class="parameters"><a href="../frontend/FileSource.html" title="interface in polyglot.frontend">FileSource</a>&nbsp;source,
java.lang.String&nbsp;name)</span>
                           throws <span class="exceptions"><a href="SemanticException.html" title="class in polyglot.types">SemanticException</a></span></div>
<div class="block">Get a type from a source file.</div>
<dl class="notes">
<dt>Throws:</dt>
<dd><code><a href="SemanticException.html" title="class in polyglot.types">SemanticException</a></code></dd>
</dl>
</section>
</li>
</ul>
</section>
</li>
</ul>
</section>
<!-- ========= END OF CLASS DATA ========= -->
</main>
<footer role="contentinfo">
<nav role="navigation">
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottom-nav" id="navbar.bottom">
<div class="skip-nav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<ul id="navbar.bottom.firstrow" class="nav-list" title="Navigation">
<li><a href="../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="nav-bar-cell1-rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../index-all.html">Index</a></li>
<li><a href="../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="sub-nav">
<div>
<ul class="sub-nav-list">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="sub-nav-list">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
</div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
<span class="skip-nav" id="skip.navbar.bottom">
<!--   -->
</span></nav>
</footer>
</div>
</div>
</body>
</html>
